{
  "version": 3,
  "sources": ["../../../../responses/index.js", "../../../../functions/PostwebShop/index.js"],
  "sourcesContent": ["\r\nfunction sendResponse(products) {\r\n    return {\r\n        statusCode: 200,\r\n     headers: {\r\n         'content-type': 'application/json',\r\n     },\r\n        body: JSON.stringify({\r\n            products,\r\n        }),\r\n    };\r\n}\r\n\r\nfunction  sendError(statusCode, message) {\r\n    return {\r\n        statusCode: statusCode, \r\n        headers: {\r\n            'content-type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n            message,\r\n        }),\r\n    };\r\n}  \r\n\r\n\r\nmodule.exports = { sendResponse, sendError };", "\r\nconst products =\r\n[\r\n  {\r\n      \"title\" : \"Tricky\",\r\n      \"price\" : 799,\r\n      \"shortDesc\" : \"Unisex\",\r\n      \"category\": \"board\",\r\n      \"longDesc\" : \"Skate ipsum dolor sit amet, 50-50 Sidewalk Surfer nose bump kickflip bruised heel fakie berm soul skate. Bluntslide transition nollie hard flip bank pressure flip ho-ho. Steps rip grip nosepicker roll-in yeah 540 pump. \",\r\n      \"imgFile\" : \"skateboard-generic.png\",\r\n      \"serial\" : \"231874871397182\"\r\n  },\r\n  {\r\n      \"title\" : \"Flipper\",\r\n      \"price\" : 799,\r\n      \"shortDesc\" : \"Unisex\",\r\n      \"category\": \"board\",\r\n      \"longDesc\" : \"Axle crailtap fastplant dude regular footed helipop impossible. Wax Jimmy'Z half-flip transfer nollie launch ramp mongo egg plant. Pogo slap maxwell g-turn boneless risers blunt nose slide.\",\r\n      \"imgFile\" : \"skateboard-generic.png\",\r\n      \"serial\" : \"238498293848233\"\r\n  },\r\n  {\r\n      \"title\" : \"Hiphop\",\r\n      \"price\" : 799,\r\n      \"shortDesc\" : \"Unisex\",\r\n      \"category\": \"board\",\r\n      \"longDesc\" : \"Skate ipsum dolor sit amet, 50-50 Sidewalk Surfer nose bump kickflip bruised heel fakie berm soul skate. Bluntslide transition nollie hard flip bank pressure flip ho-ho. Steps rip grip nosepicker roll-in yeah 540 pump. \",\r\n      \"imgFile\" : \"skateboard-generic.png\",\r\n      \"serial\" : \"2834982384832822\"\r\n  },\r\n  {\r\n      \"title\" : \"Gretas Fury\",\r\n      \"price\" : 999,\r\n      \"shortDesc\" : \"Unisex\",\r\n      \"category\": \"board\",\r\n      \"longDesc\" : \"Skate ipsum dolor sit amet, 50-50 Sidewalk Surfer nose bump kickflip bruised heel fakie berm soul skate. Bluntslide transition nollie hard flip bank pressure flip ho-ho. Steps rip grip nosepicker roll-in yeah 540 pump. \",\r\n      \"imgFile\" : \"skateboard-greta.png\",\r\n      \"serial\" : \"127127838128877\"\r\n  },\r\n  {\r\n      \"title\" : \"Awesome\",\r\n      \"price\" : 799,\r\n      \"shortDesc\" : \"Unisex\",\r\n      \"category\": \"board\",\r\n      \"longDesc\" : \"Axle crailtap fastplant dude regular footed helipop impossible. Wax Jimmy'Z half-flip transfer nollie launch ramp mongo egg plant. Pogo slap maxwell g-turn boneless risers blunt nose slide.\",\r\n      \"imgFile\" : \"skateboard-generic.png\",\r\n      \"serial\" : \"2384993841228443\"\r\n  },\r\n  {\r\n      \"title\" : \"Swag\",\r\n      \"price\" : 799,\r\n      \"shortDesc\" : \"Unisex\",\r\n      \"category\": \"board\",\r\n      \"longDesc\" : \"Skate ipsum dolor sit amet, 50-50 Sidewalk Surfer nose bump kickflip bruised heel fakie berm soul skate. Bluntslide transition nollie hard flip bank pressure flip ho-ho. Steps rip grip nosepicker roll-in yeah 540 pump. \",\r\n      \"imgFile\" : \"skateboard-generic.png\",\r\n      \"serial\" : \"172381278381237\"\r\n  },\r\n  {\r\n      \"title\" : \"Hoodie\",\r\n      \"price\" : 699,\r\n      \"shortDesc\" : \"Ash unisex\",\r\n      \"category\": \"clothes\",\r\n      \"longDesc\" : \"Skate ipsum dolor sit amet, 50-50 Sidewalk Surfer nose bump kickflip bruised heel fakie berm soul skate. Bluntslide transition nollie hard flip bank pressure flip ho-ho. Steps rip grip nosepicker roll-in yeah 540 pump. \",\r\n      \"imgFile\" : \"hoodie-ash.png\",\r\n      \"serial\" : \"898329843984982\"\r\n  },\r\n  {\r\n      \"title\" : \"Hoodie\",\r\n      \"price\" : 699,\r\n      \"shortDesc\" : \"Fire unisex\",\r\n      \"category\": \"clothes\",\r\n      \"longDesc\" : \"Skate ipsum dolor sit amet, 50-50 Sidewalk Surfer nose bump kickflip bruised heel fakie berm soul skate. Bluntslide transition nollie hard flip bank pressure flip ho-ho. Steps rip grip nosepicker roll-in yeah 540 pump. \",\r\n      \"imgFile\" : \"hoodie-fire.png\",\r\n      \"serial\" : \"9919312731273772\"\r\n  },\r\n  {\r\n      \"title\" : \"Hoodie\",\r\n      \"price\" : 699,\r\n      \"shortDesc\" : \"Ocean unisex\",\r\n      \"category\": \"clothes\",\r\n      \"longDesc\" : \"Skate ipsum dolor sit amet, 50-50 Sidewalk Surfer nose bump kickflip bruised heel fakie berm soul skate. Bluntslide transition nollie hard flip bank pressure flip ho-ho. Steps rip grip nosepicker roll-in yeah 540 pump. \",\r\n      \"imgFile\" : \"hoodie-ocean.png\",\r\n      \"serial\" : \"173891297371277\"\r\n  },\r\n  {\r\n      \"title\" : \"Spinner\",\r\n      \"price\" : 249,\r\n      \"shortDesc\" : \"Soft\",\r\n      \"category\": \"wheels\",\r\n      \"longDesc\" : \"Skate ipsum dolor sit amet, 50-50 Sidewalk Surfer nose bump kickflip bruised heel fakie berm soul skate. Bluntslide transition nollie hard flip bank pressure flip ho-ho. Steps rip grip nosepicker roll-in yeah 540 pump. \",\r\n      \"imgFile\" : \"wheel-spinner.png\",\r\n      \"serial\" : \"239491299929222\"\r\n  },\r\n  {\r\n      \"title\" : \"Wave\",\r\n      \"price\" : 249,\r\n      \"shortDesc\" : \"Medium\",\r\n      \"longDesc\" : \"Skate ipsum dolor sit amet, 50-50 Sidewalk Surfer nose bump kickflip bruised heel fakie berm soul skate. Bluntslide transition nollie hard flip bank pressure flip ho-ho. Steps rip grip nosepicker roll-in yeah 540 pump. \",\r\n      \"imgFile\" : \"wheel-wave.png\",\r\n      \"serial\" : \"9919291231232312\"\r\n  },\r\n  {\r\n      \"title\" : \"Rocket\",\r\n      \"price\" : 299,\r\n      \"category\": \"wheels\",\r\n      \"shortDesc\" : \"Hard\",\r\n      \"longDesc\" : \"Skate ipsum dolor sit amet, 50-50 Sidewalk Surfer nose bump kickflip bruised heel fakie berm soul skate. Bluntslide transition nollie hard flip bank pressure flip ho-ho. Steps rip grip nosepicker roll-in yeah 540 pump. \",\r\n      \"imgFile\" : \"wheel-rocket.png\",\r\n      \"serial\" : \"712387128788877\"\r\n  }\r\n  \r\n]\r\n\r\n\r\n\r\n\r\n\r\nconst { sendResponse, sendError } = require('../../responses/index');\r\n\r\nexports.handler = async event => {\r\n  const { body } = event;\r\n  const parsedBody = JSON.parse(body);\r\n\r\n  try {\r\n    validateBody(parsedBody);\r\n\r\n    const { title, price, shortDesc, longDesc, imgFile, serial } = parsedBody;\r\n\r\n    if (!products.some(p => p.serial === serial)) {\r\n      products.push({ title, price, shortDesc, longDesc, imgFile, serial });\r\n    } else {\r\n      return sendError(400, 'Product already exists');\r\n    }\r\n\r\n    return sendResponse(products);\r\n  } catch (error) {\r\n    return sendError(error.statusCode, error.message);\r\n  }\r\n};\r\n\r\nconst validateBody = (body) => {\r\n  if (!body || !body.title || !body.price || !body.shortDesc || !body.longDesc || !body.imgFile || !body.serial ) {\r\n    throw { statusCode: 400, message: 'Missing required property in body' };\r\n  }\r\n\r\n  if (products.some(p => p.serial === body.serial)) {\r\n    throw { statusCode: 400, message: 'Product already exists' };\r\n  }\r\n}\r\n\r\n"],
  "mappings": "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",
  "names": ["require_responses", "__commonJSMin", "exports", "module", "sendResponse", "products", "sendError", "statusCode", "message", "products", "sendResponse", "sendError", "event", "body", "parsedBody", "validateBody", "title", "price", "shortDesc", "longDesc", "imgFile", "serial", "p", "error"]
}
